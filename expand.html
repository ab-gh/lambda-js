<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Expand expression</title>
  <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
  <script src="lambda.js"></script>
  <link rel="stylesheet" type="text/css" href="lambda.css">
</head>

<body>

    <div id='side_by_side'>
        <div id='expression_box'>
            <h2>Expand expression:</h2>
            <div id='expr_display'></div>
        </div>

        <div id='symbol_box'>
            <h2>Symbols:</h2>
            <div id="symbols"></div>
        </div>
    </div>

    <button id="reset_button" onclick="reset_all()">Reset</button>
    <hr/>

    <div style="display:inline-block;">
        <table id="expression">
        </table>
    </div> 


    <script src="display.js"></script>
    <script>
        let params = new URLSearchParams(window.location.search)
        // TODO: refactor to not repeat parse_expression_string(params.get('expr'))
        //  (but also make sure to make a *copy* of an exprerssion object each time you resset)
        param_expr_str = params.get('expr')
        $('#expr_display').append(draw_expression(parse_expression_string(param_expr_str)))
        function reset_all() {
            console.log(param_expr_str)
            set_expr_reset_display(parse_expression_string(param_expr_str))
        }
        reset_all()
    </script>
</body>
</html>